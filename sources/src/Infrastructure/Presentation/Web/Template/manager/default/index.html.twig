{% extends 'manager/layout.html.twig' %}

{% block content %}
    <div class="p-4">
            <div class="container-fluid">
                <!-- Header -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div class="w-100">
                        <h1 class="h3 mb-1 fw-bold">Support Dashboard</h1>
                        <div class="unread-tickets-alert">
                            <p class="text-secondary mb-0">
                                <i data-lucide="bell" class="text-warning me-1"></i>
                                Welcome back! You have <b>5 unread tickets</b>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Overall Stats -->
                <div class="row g-4 mb-4">
                    <div class="col-md-3">
                        <div class="stat-card">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <p class="stat-number">127
                                        <span class="stat-trend trend-up">+12 today</span>
                                    </p>
                                    <p class="stat-label">Total Tickets</p>
                                </div>
                                <i data-lucide="ticket" class="text-primary" style="width: 32px; height: 32px;"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <p class="stat-number">45
                                        <span class="stat-trend trend-down">8 overdue</span>
                                    </p>
                                    <p class="stat-label">Open Tickets</p>
                                </div>
                                <i data-lucide="alert-circle" class="text-warning" style="width: 32px; height: 32px;"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <p class="stat-number">82
                                        <span class="stat-trend trend-up">+24%</span>
                                    </p>
                                    <p class="stat-label">Resolved Today</p>
                                </div>
                                <i data-lucide="check-circle" class="text-success" style="width: 32px; height: 32px;"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stat-card">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <p class="stat-number">15m
                                        <span class="stat-trend trend-up">-2m</span>
                                    </p>
                                    <p class="stat-label">Avg Response</p>
                                </div>
                                <i data-lucide="clock" class="text-primary" style="width: 32px; height: 32px;"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Channels & Priority -->
                <div class="row g-4 mb-4">
                    <div class="col-lg-8">
                        <div class="chart-card">
                            <div class="chart-header mb-4">
                                <h5 class="chart-title">Tickets by Channel</h5>
                            </div>
                            <div class="row g-4">
                                <div class="col-md-4">
                                    <div class="channel-stat">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <div class="d-flex align-items-center gap-2">
                                                <i data-lucide="mail" class="text-primary"></i>
                                                <span class="fw-medium">Email</span>
                                            </div>
                                            <span class="badge bg-primary-subtle text-primary">50</span>
                                        </div>
                                        <div class="progress" style="height: 6px;">
                                            <div class="progress-bar" role="progressbar" style="width: 62%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="channel-stat">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <div class="d-flex align-items-center gap-2">
                                                <i data-lucide="message-circle" class="text-success"></i>
                                                <span class="fw-medium">Chat</span>
                                            </div>
                                            <span class="badge bg-success-subtle text-success">20</span>
                                        </div>
                                        <div class="progress" style="height: 6px;">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 25%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="channel-stat">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <div class="d-flex align-items-center gap-2">
                                                <i data-lucide="form-input" class="text-warning"></i>
                                                <span class="fw-medium">Form</span>
                                            </div>
                                            <span class="badge bg-warning-subtle text-warning">10</span>
                                        </div>
                                        <div class="progress" style="height: 6px;">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 13%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="chart-card">
                            <div class="chart-header mb-3">
                                <h5 class="chart-title">Priority Distribution</h5>
                            </div>
                            <div class="priority-list">
                                <div class="priority-item">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="priority-dot bg-danger"></span>
                                            <span>High Priority</span>
                                        </div>
                                        <span class="fw-medium">5</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 15%"></div>
                                    </div>
                                </div>
                                <div class="priority-item mt-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="priority-dot bg-warning"></span>
                                            <span>Medium Priority</span>
                                        </div>
                                        <span class="fw-medium">12</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 35%"></div>
                                    </div>
                                </div>
                                <div class="priority-item mt-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <div class="d-flex align-items-center gap-2">
                                            <span class="priority-dot bg-success"></span>
                                            <span>Low Priority</span>
                                        </div>
                                        <span class="fw-medium">28</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 50%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Tickets & Agent Stats -->
                <div class="row g-4">
                    <div class="col-lg-8">
                        <div class="task-list">
                            <div class="task-header">
                                <h5 class="mb-0 fw-semibold">Recent Tickets</h5>
                                <div class="d-flex align-items-center gap-2">
                                    <button class="btn btn-light">All Tickets</button>
                                </div>
                            </div>
                            <div class="task-item">
                                <div class="task-status status-in-progress"></div>
                                <div class="task-content">
                                    <h6 class="task-title">Cannot access my account after password reset</h6>
                                    <p class="task-meta">John Smith • High Priority • 15m ago</p>
                                </div>
                                <span class="badge bg-warning">In Progress</span>
                            </div>
                            <div class="task-item">
                                <div class="task-status status-on-hold"></div>
                                <div class="task-content">
                                    <h6 class="task-title">Integration with third-party service failing</h6>
                                    <p class="task-meta">Sarah Johnson • Medium Priority • 1h ago</p>
                                </div>
                                <span class="badge bg-secondary">On Hold</span>
                            </div>
                            <div class="task-item">
                                <div class="task-status status-done"></div>
                                <div class="task-content">
                                    <h6 class="task-title">Need help with installation process</h6>
                                    <p class="task-meta">Mike Brown • Low Priority • 2h ago</p>
                                </div>
                                <span class="badge bg-success">Resolved</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="user-profile">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=160&h=160&fit=crop&crop=faces"
                                 class="profile-image"
                                 alt="Agent Profile">
                            <h5 class="profile-name">Sarah Parker</h5>
                            <p class="profile-handle">Support Agent</p>
                            <div class="agent-stats mt-4">
                                <div class="row g-3">
                                    <div class="col-6">
                                        <div class="p-3 rounded bg-light">
                                            <h6 class="small text-secondary mb-1">Assigned</h6>
                                            <p class="h4 mb-0">24</p>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="p-3 rounded bg-light">
                                            <h6 class="small text-secondary mb-1">Resolved</h6>
                                            <p class="h4 mb-0">18</p>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="p-3 rounded bg-light">
                                            <h6 class="small text-secondary mb-1">Average Response Time</h6>
                                            <p class="h4 mb-0">12m</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}
