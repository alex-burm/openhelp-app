{% extends 'public/layout/layout.html.twig' %}

{% block title %}Recover Access to Your Account{% endblock %}

{% block content %}
    <div class="login">
        <a href="{{ path('login') }}" class="btn__primary btn__back">
            <i class="icon-short-arrow-left"></i>
            <span class="btn__text">
                Back
            </span>
        </a>
        <div class="login__logo">
            <img src="{{ asset('assets/img/logo.svg') }}" alt="logo">
        </div>
        <h2 class="login__title">
            Forgot password?
        </h2>
        <p class="login__subtitle">
            Enter your email, and we'll send a link to reset your password.
        </p>

        {% if app.session.flashBag.peekAll|length > 0 %}
            <div class="state">
                {% for type,messages in app.session.flashBag.all() %}
                    <div class="state__item {{ type }}">
                        <span class="state__text">
                            {{ messages.0 }}
                        </span>
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        {{ form_start(form, {attr: {
            class: 'login__form',
        }}) }}
            <div class="form__row">
                <div class="form__group {{ form.email.vars.errors|length > 0 ? 'error' }}">
                    {{ form_label(form.email, 'E-mail') }}
                    {{ form_widget(form.email) }}
                    {{ form_errors(form.email) }}
                </div>
            </div>
            <div class="login__actions">
                <button type="submit" class="btn__primary btn__primary--xl btn__primary--blue">
                    <span class="btn__text">
                        Reset password
                    </span>
                </button>
            </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
